apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: rancher
  namespace: cattle-system
  annotations:
    nginx.ingress.kubernetes.io/ssl-redirect: "false"
    nginx.ingress.kubernetes.io/backend-protocol: "HTTP"
spec:
  ingressClassName: traefik
  rules:
  - host: 192.168.91.172.nip.io
    http:
      paths:
      - path: /
        pathType: ImplementationSpecific
        backend:
          service:
            name: rancher
            port:
              number: 80



kubectl patch ingress rancher -n cattle-system -p '{"spec":{"rules":[{"host":"192.168.91.172.nip.io","http":{"paths":[{"path":"/","pathType":"ImplementationSpecific","backend":{"service":{"name":"rancher","port":{"number":443}}}}]}}]}}'


[root@che172rocky96 ~]# curl -k https://localhost:8443
{"type":"collection","links":{"self":"https://localhost:8443/"},"actions":{},"pagination":{"limit":1000,"total":4},"sort":{"order":"asc","reverse":"https://localhost:8443/?order=desc"},"resourceType":"apiRoot","data":[{"apiVersion":{"group":"meta.cattle.io","path":"/meta","version":"v1"},"baseType":"apiRoot","links":{"apiRoots":"https://localhost:8443/meta/apiroots","root":"https://localhost:8443/meta","schemas":"https://localhost:8443/meta/schemas","self":"https://localhost:8443/meta","subscribe":"https://localhost:8443/meta/subscribe"},"type":"apiRoot"},{"apiVersion":{"group":"management.cattle.io","path":"/v3","version":"v3"},"baseType":"apiRoot","links":{"authConfigs":"https://localhost:8443/v3/authconfigs","cloudCredentials":"https://localhost:8443/v3/cloudcredentials","clusterRegistrationTokens":"https://localhost:8443/v3/clusterregistrationtokens","clusterRoleTemplateBindings":"https://localhost:8443/v3/clusterroletemplatebindings","clusterTemplateRevisions":"https://localhost:8443/v3/clustertemplaterevisions","clusterTemplates":"https://localhost:8443/v3/clustertemplates","clusters":"https://localhost:8443/v3/clusters","composeConfigs":"https://localhost:8443/v3/composeconfigs","dynamicSchemas":"https://localhost:8443/v3/dynamicschemas","etcdBackups":"https://localhost:8443/v3/etcdbackups","features":"https://localhost:8443/v3/features","fleetWorkspaces":"https://localhost:8443/v3/fleetworkspaces","globalRoleBindings":"https://localhost:8443/v3/globalrolebindings","globalRoles":"https://localhost:8443/v3/globalroles","groupMembers":"https://localhost:8443/v3/groupmembers","groups":"https://localhost:8443/v3/groups","kontainerDrivers":"https://localhost:8443/v3/kontainerdrivers","ldapConfigs":"https://localhost:8443/v3/ldapconfigs","managementSecrets":"https://localhost:8443/v3/managementsecrets","nodeDrivers":"https://localhost:8443/v3/nodedrivers","nodePools":"https://localhost:8443/v3/nodepools","nodeTemplates":"https://localhost:8443/v3/nodetemplates","nodes":"https://localhost:8443/v3/nodes","podSecurityAdmissionConfigurationTemplates":"https://localhost:8443/v3/podsecurityadmissionconfigurationtemplates","preferences":"https://localhost:8443/v3/preferences","principals":"https://localhost:8443/v3/principals","projectNetworkPolicies":"https://localhost:8443/v3/projectnetworkpolicies","projectRoleTemplateBindings":"https://localhost:8443/v3/projectroletemplatebindings","projects":"https://localhost:8443/v3/projects","rancherUserNotifications":"https://localhost:8443/v3/rancherusernotifications","rkeAddons":"https://localhost:8443/v3/rkeaddons","rkeK8sServiceOptions":"https://localhost:8443/v3/rkek8sserviceoptions","rkeK8sSystemImages":"https://localhost:8443/v3/rkek8ssystemimages","roleTemplates":"https://localhost:8443/v3/roletemplates","root":"https://localhost:8443/v3","samlTokens":"https://localhost:8443/v3/samltokens","self":"https://localhost:8443/v3","settings":"https://localhost:8443/v3/settings","subscribe":"https://localhost:8443/v3/subscribe","tokens":"https://localhost:8443/v3/tokens","users":"https://localhost:8443/v3/users"},"type":"apiRoot"},{"apiVersion":{"group":"cluster.cattle.io","path":"/v3/cluster","version":"v3"},"baseType":"apiRoot","links":{"apiServices":"https://localhost:8443/v3/cluster/apiservices","namespaces":"https://localhost:8443/v3/cluster/namespaces","persistentVolumes":"https://localhost:8443/v3/cluster/persistentvolumes","root":"https://localhost:8443/v3/cluster","self":"https://localhost:8443/v3/cluster","storageClasses":"https://localhost:8443/v3/cluster/storageclasses","subscribe":"https://localhost:8443/v3/cluster/subscribe"},"type":"apiRoot"},{"apiVersion":{"group":"project.cattle.io","path":"/v3/project","version":"v3"},"baseType":"apiRoot","links":{"basicAuths":"https://localhost:8443/v3/project/basicauths","certificates":"https://localhost:8443/v3/project/certificates","configMaps":"https://localhost:8443/v3/project/configmaps","cronJobs":"https://localhost:8443/v3/project/cronjobs","daemonSets":"https://localhost:8443/v3[root@che172rocky96 ~]#
ecords","dockerCredentials":"https://localhost:8443/v3/project/dockercredentials","horizontalPodAutoscalers":"https://localhost:8443/v3/project/horizontalpodautoscalers","ingresses":"https://localhost:8443/v3/project/ingresses","jobs":"https://localhost:8443/v3/project/jobs","namespacedBasicAuths":"https://localhost:8443/v3/project/namespacedbasicauths","namespacedCertificates":"https://localhost:8443/v3/project/namespacedcertificates","namespacedDockerCredentials":"https://localhost:8443/v3/project/namespaceddockercredentials","namespacedSecrets":"https://localhost:8443/v3/project/namespacedsecrets","namespacedServiceAccountTokens":"https://localhost:8443/v3/project/namespacedserviceaccounttokens","namespacedSshAuths":"https://localhost:8443/v3/project/namespacedsshauths","persistentVolumeClaims":"https://localhost:8443/v3/project/persistentvolumeclaims","pods":"https://localhost:8443/v3/project/pods","replicaSets":"https://localhost:8443/v3/project/replicasets","replicationControllers":"https://localhost:8443/v3/project/replicationcontrollers","root":"https://localhost:8443/v3/project","secrets":"https://localhost:8443/v3/project/secrets","self":"https://localhost:8443/v3/project","serviceAccountTokens":"https://localhost:8443/v3/project/serviceaccounttokens","services":"https://localhost:8443/v3/project/services","sshAuths":"https://localhost:8443/v3/project/sshauths","statefulSets":"https://localhost:8443/v3/project/statefulsets","subscribe":"https://localhost:8443/v3/project/subscribe","workloads":"https://localhost:8443/v3/project/workloads"},"type":"apiRoot"}]}
[root@che172rocky96 ~]#
